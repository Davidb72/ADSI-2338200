<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arrays</title>
    <link rel="shortcut icon" href="images/JavaScript.png">
    <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
  />

    <style>
    main {
        text-align: center;
    }
    h2 {
        color: black;
        font-weight: bold;
    }
    ul {
        margin: 0 0;
        display: flex;
        justify-content: space-between;
        flex-wrap: wrap;
        width: auto;
        height: 250px;
    }
    div.option {
        width: 80px;
        height: 80px;
        margin: 8px;
        border-radius: 8px;
        object-fit: cover;
    }
    div.option:hover {
        transform: scale(1.2);
    }
    div.options {
        text-align: center;
        display: grid;
        grid-template-columns: 1fr;
    }
    div.options h2 {
        margin: 0 auto;
    }
    div.options select {
        width: 150px;
        margin: 0 140px;
    }
    div.options input {
        width: 150px;
        margin: 0 140px;
    }
    button {
        margin: 0 auto;
        width: 150px;
    }

    body {
        background: rgb(233, 182, 120);
    }
    .button-00 {
        align-items: center;
        appearance: none;
        background-color: #fdfdfc;
        border-radius: 4px;
        border-width: 0;
        box-shadow: rgba(45, 35, 66, 0.4) 0 2px 4px,rgba(45, 35, 66, 0.3) 0 7px 13px -3px,#D6D6E7 0 -3px 0 inset;
        box-sizing: border-box;
        color: #36395A;
        cursor: pointer;
        display: inline-flex;
        font-family: "JetBrains Mono",monospace;
        height: 48px;
        justify-content: center;
        line-height: 1;
        list-style: none;
        overflow: hidden;
        padding-left: 16px;
        padding-right: 16px;
        position: relative;
        text-align: left;
        text-decoration: none;
        transition: box-shadow .15s,transform .15s;
        user-select: none;
        -webkit-user-select: none;
        touch-action: manipulation;
        white-space: nowrap;
        will-change: box-shadow,transform;
        font-size: 18px;
    }

    .button-00:focus {
      box-shadow: #D6D6E7 0 0 0 1.5px inset, rgba(45, 35, 66, 0.4) 0 2px 4px, rgba(45, 35, 66, 0.3) 0 7px 13px -3px, #D6D6E7 0 -3px 0 inset;
    }

    .button-00:hover {
      box-shadow: rgba(45, 35, 66, 0.4) 0 4px 8px, rgba(45, 35, 66, 0.3) 0 7px 13px -3px, #D6D6E7 0 -3px 0 inset;
      transform: translateY(-2px);
    }

    .button-00:link  {
      box-shadow: #D6D6E7 0 3px 7px inset;
      transform: translateY(2px);
    }


    .disabled 
    {
        cursor: not-allowed;
        background-color: rgb(229, 229, 229) !important;
    }
    .disabled > * 
    {
        pointer-events:none;
    }
    .selected {
        border: solid rgb(255, 167, 52) 1px;
        transform: scale(1.2);
    }
    .sisi {
        border: solid rgb(255, 255, 255) 1px;
        filter: grayscale(0.7);
    }
    .resultado {
        border-radius: 25px;
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
        gap: 25px;
        height: 70px;
        width: 380px;
        background: white;
        overflow-x: hidden;
        overflow-x: scroll;
        margin: 15px auto;
    }
    .resultado::-webkit-scrollbar {
        -webkit-appearance: none;
    } 
    .resultado::-webkit-scrollbar:vertical {
        width:10px;
    }

    .resultado::-webkit-scrollbar-button:increment,.resultado::-webkit-scrollbar-button {
        display: none;
    } 

    .resultado::-webkit-scrollbar:horizontal {
        height: 10px;
    }
    .finalPrint {
        margin: 1px 2px;
        height: 50px;
        width: 50px;
        border: solid 1px black;
        border-radius: 50px;
        font-size: 1rem;
        color: rgb(0, 37, 43);
    }


    .section {
        height: 610px;
        width: 420px;
        border-radius: 40px;
        background: linear-gradient(to bottom, #6c442c 80%, #e69b6c);
        align-items: center;
        margin: 0 auto;
    }

</style>
<body>
    <main>
        <header>
            <h1>Challenge Arrays</h1>
        </header>
        <section class="section">
            <ul>
                <div class="option option-01" style="background: url(images/Arrays/donas.svg);background-size: cover;"></div>
                <div class="option option-02" style="background: url(images/Arrays/ham.svg);background-size: cover;"></div>
                <div class="option option-03" style="background: url(images/Arrays/hotdog.svg);background-size: cover;"></div>
                <div class="option option-04" style="background: url(images/Arrays/papas.svg);background-size: cover;"></div>
                <div class="option option-05" style="background: url(images/Arrays/pizza.svg);background-size: cover;"></div>
                <div class="option option-06" style="background: url(images/Arrays/sand.svg);background-size: cover;"></div>
            </ul>
            <div class="options">
                <br>
                <h2 class="optionPosition">seleccione la posicion</h2>
                <br>
                <select name="option_position" id="select">
                    <option value="firsOne">primer elemento</option>
                    <option value="lastOne">ultimo elemento</option>
                    <option value="especificPosition">posicion especifica</option>
                </select>
                <br>
                <h2>ingrese la posicion</h2>
                 <input type="number" id="especific">
                 <br>
                 <div class="btns">
                    <button class="button-00 delete disabled">Delete</button>
                    <button class="button-00 add disabled">Add</button>
                </div>

            </div>
            
        </section>
        <template class="result">
            <div class="resultado">
            </div>
        </template>
        </nav>
    </main>
    <script>
        //vars const 
        const section = document.querySelector('.section')
        var vSection 

        const select = document.getElementById('select')
        const positionEsp = document.getElementById('especific')
        const btnAdd = document.querySelector('.add')
        const btnDelete = document.querySelector('.delete')
        const templateResult = document.querySelector('template.result').content
        
        const templateDivResult = templateResult.querySelector('.resultado')

        let cloneResult = templateDivResult.cloneNode(true)


        var selectionIcon
        var onselected = true

        var arrayBgUrl = []
        var pos
        var pos1
        var positionState

        var objetoVis = ""

        var pinselection = document.querySelectorAll('.option')
        pinselection.forEach(li => {
            li.onclick=()=>{
                if(onselected){
                    btnAdd.classList.toggle('disabled')     
                    btnDelete.classList.toggle('disabled')
                    onselected = false
                }
                selectionIcon = li.style.background
                numPosition = li.innerHTML
                toggleDynamic(li)
            }
        });
        //buttons
        
        //btn add a element 
        btnAdd.addEventListener('click', ()=>{
            if(btnAdd.classList[2]!='disabled'){
                swtSelectspos()
                if(positionState==true){
                    printDivImg()
                }
            }
            else {
                alert('por favor seleccione un item y una posicion, luego vuelvalo a intentar')
            }
        })
        //btn delete element
        btnDelete.addEventListener('click', ()=>{
            if (btnDelete.classList[2]!='disabled') {
                swtSelectsneg()
                if (positionState== true){
                    dropDivimg()
                }
            } else {
                alert('por favor seleccione un item y una posicion, luego vuelvalo a intentar')
            }
        })
        
        //functions
        function swtSelectspos(){
            switch(select.value){
                case 'firsOne':
                        arrayBgUrl.unshift(selectionIcon)
                        positionState=true
                        break;
                case 'lastOne':
                        arrayBgUrl.push(selectionIcon)
                        positionState=true
                        break;
                case 'especificPosition':
                        pos = positionEsp.value
                        pos1= pos-1
                        if(pos!="" && pos1<=arrayBgUrl.length && pos1>=0){
                            arrayBgUrl.splice(pos1,0,selectionIcon)
                            positionState=true
                        }else if(pos=="") {
                            alert('por favor ingresa la position')
                            positionState=false
                        }
                        else if(pos1<0 || pos>=arrayBgUrl.length){
                            alert('ingresaste una posicion no valida')
                            positionState = false
                        }
                        break;
            }
        }
        function swtSelectsneg(){
            switch(select.value){
                case 'firsOne':
                    arrayBgUrl.shift(selectionIcon)
                    positionState=true
                    break;
                case 'lastOne':
                    arrayBgUrl.pop(selectionIcon)
                    positionState=true
                    break;
                case 'especificPosition':
                    pos = positionEsp.value
                    let pos1= pos-1 
                    if(pos!="" && pos<=arrayBgUrl.length && pos1>=0){
                        positionState=true
                        arrayBgUrl.splice(pos1,1,)
                    }else if(pos=="") {
                        alert('por favor ingresa la position')
                        positionState=false
                    }
                    else if(pos>=arrayBgUrl.length || pos1<0){
                        alert('ingresaste una posicion no valida')
                        positionState=false
                    }
                    break;
                }
            }
            function searchContent(){
                vSection = document.querySelector('.resultado')
            }
            const printDivImg =()=>{
                searchContent()
                if (vSection != null) {
                    vSection.innerHTML = ""
                }
                let bgSelected
                let num = 1
                arrayBgUrl.forEach(e => {
                    bgSelected=e.valueOf()
                    let divStick = document.createElement('div')
                    divStick.classList.add('finalPrint')
                    divStick.classList.add('font-effect-neon')
                    divStick.style.background=bgSelected
                    divStick.innerHTML=num
                    cloneResult.appendChild(divStick)
                    num +=1
                });
                console.log(cloneResult)
                section.appendChild(cloneResult)
            }
            function dropDivimg(){
                let deleteCheck
                objetoVis
                switch(select.value){
                case 'firsOne':
                    searchContent()
                    deleteCheck = vSection.childNodes[0]
                    nodoDelete = section.querySelector('.resultado')
                    nodoDelete.removeChild(deleteCheck)
                    printDivImg()
                    break;
                case 'lastOne':
                    deleteCheck = vSection.childNodes[(arrayBgUrl.length)]
                    nodoDelete = section.querySelector('.resultado')
                    nodoDelete.removeChild(deleteCheck)
                    break;
                case 'especificPosition':
                    pos1=pos-1
                    if(pos!="" && pos1<=arrayBgUrl.length){
                        deleteCheck = vSection.childNodes[pos1]
                        nodoDelete = section.querySelector('.resultado')
                        nodoDelete.removeChild(deleteCheck)
                        printDivImg()
                    }else if(pos=="") {
                        alert('por favor ingresa la position')
                    }
                    else if(pos>=arrayBgUrl.length){
                        alert('ingresaste una posicion no valida')
                    }
                    break;
                }
            }
            function toggleDynamic (li){
                ondisableLi()
                li.classList.remove('sisi')
                li.classList.add('selected')
                clase = li.classList[2]
            }
            
            function ondisableLi(){
                pinselection.forEach(Element=>{
                    pinselection.forEach(element => {
                        element.classList.add('sisi')
                    });
                })
        }
        </script>
</body>
</html>